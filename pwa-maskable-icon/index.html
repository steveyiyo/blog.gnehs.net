<!doctype html><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>在 PWA 應用程式中使用遮罩圖示（maskable icon） - 勝勝</title><meta name=description content="Chrome 最近釋出 79 版，終於支援了遮罩圖示（看看 Android 8 都出多久了），這篇教學會教你如何使用遮罩圖示。
準備清單  已更新 Chrome 79 的 Android 手機 要修改的 PWA 應用程式  圖示製作 要製作圖示必須保留相對應的安全區域，免得要顯示的內容被裁掉。
你可以在 Maskable​.app 預覽套用後的效果 修改 manifest.json 將 icons 中的圖示標示 &#34;purpose&#34;: &#34;maskable&#34; 便可以使用遮罩了
{ &#34;scope&#34;: &#34;/&#34;, &#34;name&#34;: &#34;PokaPlayer&#34;, &#34;short_name&#34;: &#34;PokaPlayer&#34;, &#34;icons&#34;: [{ &#34;src&#34;: &#34;./img/icons/icon.png&#34;, &#34;sizes&#34;: &#34;512x512&#34;, &#34;type&#34;: &#34;image/png&#34; }, { &#34;src&#34;: &#34;./img/icons/icon-maskable.png&#34;, &#34;sizes&#34;: &#34;512x512&#34;, &#34;type&#34;: &#34;image/png&#34;, &#34;purpose&#34;: &#34;maskable&#34; } ], &#34;start_url&#34;: &#34;/&#34;, &#34;display&#34;: &#34;standalone&#34;, &#34;background_color&#34;: &#34;#2f2b3e&#34;, &#34;theme_color&#34;: &#34;#ffffff&#34; } 在手機上查看套用效果 套用成功了 參考資料"><meta name=author content="勝勝"><link href=https://blog.gnehs.net/an-old-hope.min.css rel=stylesheet><link href=https://blog.gnehs.net/style.css rel=stylesheet><link href=https://blog.gnehs.net/custom.css rel=stylesheet><link rel=apple-touch-icon href=/favicon.png><link rel=icon href=/favicon.png><meta name=generator content="Hugo 0.81.0"><script>function setTheme(){if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');return}const c=new Date,g=localStorage.getItem('date'),d=String(c.getMonth()+1)+'.'+String(c.getDate()),e=c.getTime();let a,b;function f(){if(e>a&&e<b)return;document.body.classList.add('dark')}d!==g?(fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215').then(a=>a.json()).then(c=>{a=c.sunrise.split(':').map(Number),b=c.sunset.split(':').map(Number)}).catch(()=>{a=[7,0],b=[19,0]}).finally(()=>{a=c.setHours(a[0],a[1],0),b=c.setHours(b[0],b[1],0),f(),localStorage.setItem('sunrise',a),localStorage.setItem('sunset',b)}),localStorage.setItem('date',d)):(a=Number(localStorage.getItem('sunrise')),b=Number(localStorage.getItem('sunset')),f())}</script></head><body class=single><script>setTheme()</script><header class=header><nav class=nav><p class=logo><a href=https://blog.gnehs.net>勝勝</a></p><ul class=menu><li><a href=/categories/>categories</a></li><li><a href=/tags/>tags</a></li><li><a href=/about/>about</a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>在 PWA 應用程式中使用遮罩圖示（maskable icon）</h1><div class=post-meta>勝勝 · 2019 年 12 月 22 日</div></header><div class=post-content><p>Chrome 最近釋出 79 版，終於支援了遮罩圖示（看看 Android 8 都出多久了），這篇教學會教你如何使用遮罩圖示。</p><h2 id=準備清單>準備清單</h2><ul><li>已更新 Chrome 79 的 Android 手機</li><li>要修改的 PWA 應用程式</li></ul><h2 id=圖示製作>圖示製作</h2><p>要製作圖示必須保留相對應的安全區域，免得要顯示的內容被裁掉。</p><p>你可以在 <a href=https://maskable.app/>Maskable​.app</a> 預覽套用後的效果 <img src=https://i.loli.net/2019/12/22/Ufgv4mlo1euY78T.png alt=file></p><h2 id=修改-manifestjson>修改 manifest.json</h2><p>將 icons 中的圖示標示 <code>"purpose": "maskable"</code> 便可以使用遮罩了</p><pre><code>{
  &quot;scope&quot;: &quot;/&quot;,
  &quot;name&quot;: &quot;PokaPlayer&quot;,
  &quot;short_name&quot;: &quot;PokaPlayer&quot;,
  &quot;icons&quot;: [{
      &quot;src&quot;: &quot;./img/icons/icon.png&quot;,
      &quot;sizes&quot;: &quot;512x512&quot;,
      &quot;type&quot;: &quot;image/png&quot;
    },
    {
      &quot;src&quot;: &quot;./img/icons/icon-maskable.png&quot;,
      &quot;sizes&quot;: &quot;512x512&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;purpose&quot;: &quot;maskable&quot;
    }
  ],
  &quot;start_url&quot;: &quot;/&quot;,
  &quot;display&quot;: &quot;standalone&quot;,
  &quot;background_color&quot;: &quot;#2f2b3e&quot;,
  &quot;theme_color&quot;: &quot;#ffffff&quot;
}
</code></pre><h2 id=在手機上查看套用效果>在手機上查看套用效果</h2><p>套用成功了 <img src=https://i.loli.net/2019/12/22/R1OHAGDYJdtzMlk.png alt=file> 參考資料</p><blockquote><p><a href=https://css-tricks.com/maskable-icons-android-adaptive-icons-for-your-pwa/>Maskable Icons: Android Adaptive Icons for Your PWA</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.gnehs.net/tags/js>js</a></li><li><a href=https://blog.gnehs.net/tags/pwa>pwa</a></li></ul></footer><br><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-6834090314855499 data-ad-slot=2767030263></ins></article></main><footer class=footer><span>&copy; 2021 <a href=https://blog.gnehs.net>勝勝</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</span>
<span>&#183;</span>
<span>Theme️ <a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper</a></span></footer><script src=https://blog.gnehs.net/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-96NRMGGV7E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-96NRMGGV7E')</script></body></html>